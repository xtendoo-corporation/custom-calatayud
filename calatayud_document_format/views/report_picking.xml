<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="calatayud_document_format.report_picking_inherited" inherit_id="stock.report_picking">
        <xpath expr="//div[@name='right_box']" position="replace"/>
        <xpath expr="//div[@name='div_incoming_address']" position="replace">
            <div class="col-5 offset-1" name="div_outgoing_address">
                <div t-if="o.should_print_delivery_address()">
                    <span>
                        <strong>Dirección de entrega:</strong>
                    </span>
                    <div t-field="o.move_ids[0].partner_id"
                         t-options='{"widget": "contact", "fields": ["address", "name", "phone"], "no_marker": True, "phone_icons": True}'/>
                </div>
                <div
                    t-elif="o.picking_type_id.code != 'internal' and o.picking_type_id.warehouse_id.partner_id">
                    <span>
                        <strong>Dirección del almacén:</strong>
                    </span>
                    <div t-field="o.picking_type_id.warehouse_id.partner_id"
                         t-options='{"widget": "contact", "fields": ["address", "name", "phone"], "no_marker": True, "phone_icons": True}'/>
                </div>
            </div>
        </xpath>
        <xpath expr="//div[@name='div_outgoing_address']" position="replace">
            <div class="col-6" name="div_incoming_address">
                <t t-set="show_partner" t-value="False"/>
                <div t-if="o.picking_type_id.code=='incoming' and o.partner_id">
                    <span>
                        <strong>Dirección del proveedor:</strong>
                    </span>
                    <t t-set="show_partner" t-value="True"/>
                </div>
                <div t-if="o.picking_type_id.code=='internal' and o.partner_id">
                    <span>
                        <strong>Dirección del almacén:</strong>
                    </span>
                    <t t-set="show_partner" t-value="True"/>
                </div>
                <div t-if="o.picking_type_id.code=='outgoing' and o.partner_id">
                    <span>
                        <strong>Dirección del cliente:</strong>
                    </span>
                    <t t-set="show_partner" t-value="True"/>
                </div>
                <div t-if="show_partner" name="partner_header">
                    <div t-field="o.partner_id.commercial_partner_id"
                         t-options='{"widget": "contact", "fields": ["address", "name", "phone", "vat"], "no_marker": True, "phone_icons": True}'/>
                </div>
            </div>
        </xpath>
        <xpath expr="//th[@name='th_product']" position="attributes">
            <attribute name="style">text-align: left;</attribute>
        </xpath>
        <xpath expr="//th[@name='th_product']/following-sibling::th[1]" position="attributes">
            <attribute name="style">text-align: right;</attribute>
        </xpath>
        <xpath expr="//th[@name='th_from']" position="attributes">
            <attribute name="style">text-align: left;</attribute>
        </xpath>
        <xpath expr="//th[@name='th_to']" position="attributes">
            <attribute name="style">text-align: left;</attribute>
        </xpath>
        <xpath expr="//td[position()=2]" position="attributes">
            <attribute name="style">text-align: right;</attribute>
        </xpath>
    </template>
</odoo>
