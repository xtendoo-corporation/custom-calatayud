<odoo>
<!-- Copyright 2024 Xtendoo - Abraham Carrasco, Manuel Calero
License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl). -->
    <template
        id="report_purchaseorder_document"
        inherit_id="purchase.report_purchaseorder_document"
    >
        <xpath expr="//div[@id='informations']" position="replace"/>
        <xpath expr="//th[@name='th_taxes']" position="replace"/>
        <xpath expr="//th[@name='th_date_req']" position="replace"/>
        <xpath expr="//th[@name='th_price_unit']" position="replace">
            <th name="th_price_unit" class="text-end"><strong>Price</strong></th>
        </xpath>
         <xpath expr="//th[@name='th_amount']" position="replace">
            <th name="th_amount" class="text-end"><strong>Total</strong></th>
        </xpath>
        <xpath expr="//t[@t-set='taxes']" position="replace"/>
        <xpath expr="//td[@name='td_taxes']" position="replace"/>
        <xpath expr="//td[@class='text-center']" position="replace"/>

        <xpath expr="//table[1]/thead/tr//th[1]" position="replace">
            <th name="th_description_product" class="text-start">
                <span>Descripci√≥n</span>
            </th>
        </xpath>
        <xpath expr="//table[1]/thead/tr//th[1]" position="before">
            <th name="th_product_name" class="text-start">
                <span>Nombre</span>
            </th>
        </xpath>

        <xpath expr="//table[1]/tbody/t/tr/t[1]/td[1]" position="replace">
            <td name="td_product_name">
                <span
                    t-esc="line.name.rsplit(']', 1)[-1].rsplit(')', 1)[0] + ')' if ']' in line.name and ')' in line.name.rsplit(']', 1)[-1] else (line.name.rsplit(')', 1)[0] + ')' if ')' in line.name else line.name)"
                    style="font-size:12px"/>
            </td>
        </xpath>
        <xpath expr="//table[1]/tbody/t/tr/t[1]/td[1]" position="before">
            <td name="td_description_product">
                <span
                    t-esc="line.name.split(')')[1].strip() if ')' in line.name and line.name.split(')')[1].strip() != '' else line.name"
                    style="font-size:12px"/>
            </td>
        </xpath>
    </template>
</odoo>
